package com.github.highright1234.exploitchecker;

import com.comphenix.protocol.PacketType;
import com.comphenix.protocol.ProtocolLibrary;
import com.comphenix.protocol.events.*;
import org.bukkit.plugin.java.JavaPlugin;

public final class ExploitChecker extends JavaPlugin {

    @Override
    public void onEnable() {
        ProtocolLibrary.getProtocolManager().addPacketListener(new PacketAdapter(this,
                ListenerPriority.NORMAL,
                PacketType.Play.Client.CUSTOM_PAYLOAD) {
            @Override
            public void onPacketReceiving(PacketEvent event) {
                if (event.getPacketType() == PacketType.Play.Client.CHAT ||
                        event.getPacketType() == PacketType.Play.Client.CUSTOM_PAYLOAD) {
                    if (event.getPlayer().getName().equalsIgnoreCase("liteCam")) {
                        getLogger().info(event.getPacket().getStrings().read(0));
                    }
                }
            }
        });
    }

    @Override
    public void onDisable() {
        // Plugin shutdown logic
    }
}
